{"ast":null,"code":"import axios from 'axios';\nexport default async function itemsHandler(req, res) {\n  const {\n    query: {\n      id\n    },\n    method\n  } = req;\n\n  try {\n    const {\n      data\n    } = await axios.get(`https://api.mercadolibre.com/items/${id}`);\n    console.log(data);\n    const item = {\n      id: data.id,\n      title: data.title,\n      price: {\n        currency: data.currency_id,\n        amount: data.price,\n        decimals: data.price - Math.floor(data.price) //no entendi bien de donde sacar los decimales, asi que lo calculo respecto al amount\n\n      },\n      picture: data.thumbnail,\n      condition: data.condition,\n      free_shipping: data.shipping.free_shipping\n    };\n\n    switch (method) {\n      case 'GET':\n        res.status(200).json({\n          author: {\n            name: 'Manu',\n            lastname: 'Barreto'\n          },\n          items: items\n        });\n        break;\n\n      default:\n        res.setHeader('Allow', ['GET']);\n        res.status(405).end(`Method ${method} Not Allowed`);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}","map":{"version":3,"sources":["C:/Users/circo/OneDrive/Documentos/repos/examen ml/TestML/pages/api/items/[...id].js"],"names":["axios","itemsHandler","req","res","query","id","method","data","get","console","log","item","title","price","currency","currency_id","amount","decimals","Math","floor","picture","thumbnail","condition","free_shipping","shipping","status","json","author","name","lastname","items","setHeader","end","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,eAAeC,YAAf,CAA4BC,GAA5B,EAAiCC,GAAjC,EAAsC;AACjD,QAAM;AACFC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF,KADL;AAEFC,IAAAA;AAFE,MAGFJ,GAHJ;;AAKA,MAAI;AACA,UAAM;AAAEK,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACQ,GAAN,CAAW,sCAAqCH,EAAG,EAAnD,CAAvB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,UAAMI,IAAI,GAAG;AACTN,MAAAA,EAAE,EAAEE,IAAI,CAACF,EADA;AAETO,MAAAA,KAAK,EAAEL,IAAI,CAACK,KAFH;AAGTC,MAAAA,KAAK,EAAE;AACHC,QAAAA,QAAQ,EAAEP,IAAI,CAACQ,WADZ;AAEHC,QAAAA,MAAM,EAAET,IAAI,CAACM,KAFV;AAGHI,QAAAA,QAAQ,EAAEV,IAAI,CAACM,KAAL,GAAaK,IAAI,CAACC,KAAL,CAAWZ,IAAI,CAACM,KAAhB,CAHpB,CAG2C;;AAH3C,OAHE;AAQTO,MAAAA,OAAO,EAAEb,IAAI,CAACc,SARL;AASTC,MAAAA,SAAS,EAAEf,IAAI,CAACe,SATP;AAUTC,MAAAA,aAAa,EAAEhB,IAAI,CAACiB,QAAL,CAAcD;AAVpB,KAAb;;AAcA,YAAQjB,MAAR;AACI,WAAK,KAAL;AACIH,QAAAA,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,UAAAA,MAAM,EAAE;AACJC,YAAAA,IAAI,EAAE,MADF;AAEJC,YAAAA,QAAQ,EAAE;AAFN,WADS;AAKjBC,UAAAA,KAAK,EAAEA;AALU,SAArB;AAOA;;AAEJ;AACI3B,QAAAA,GAAG,CAAC4B,SAAJ,CAAc,OAAd,EAAuB,CAAC,KAAD,CAAvB;AACA5B,QAAAA,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBO,GAAhB,CAAqB,UAAS1B,MAAO,cAArC;AAbR;AAeH,GAhCD,CAgCE,OAAO2B,KAAP,EAAc;AACZxB,IAAAA,OAAO,CAACC,GAAR,CAAYuB,KAAZ;AACH;AAEJ","sourcesContent":["import axios from 'axios'\r\n\r\nexport default async function itemsHandler(req, res) {\r\n    const {\r\n        query: { id },\r\n        method,\r\n    } = req\r\n\r\n    try {\r\n        const { data } = await axios.get(`https://api.mercadolibre.com/items/${id}`);\r\n        console.log(data)\r\n        const item = {\r\n            id: data.id,\r\n            title: data.title,\r\n            price: {\r\n                currency: data.currency_id,\r\n                amount: data.price,\r\n                decimals: data.price - Math.floor(data.price) //no entendi bien de donde sacar los decimales, asi que lo calculo respecto al amount\r\n            },\r\n            picture: data.thumbnail,\r\n            condition: data.condition,\r\n            free_shipping: data.shipping.free_shipping\r\n        }\r\n\r\n\r\n        switch (method) {\r\n            case 'GET':\r\n                res.status(200).json({\r\n                    author: {\r\n                        name: 'Manu',\r\n                        lastname: 'Barreto'\r\n                    },\r\n                    items: items\r\n                })\r\n                break\r\n\r\n            default:\r\n                res.setHeader('Allow', ['GET'])\r\n                res.status(405).end(`Method ${method} Not Allowed`)\r\n        }\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}