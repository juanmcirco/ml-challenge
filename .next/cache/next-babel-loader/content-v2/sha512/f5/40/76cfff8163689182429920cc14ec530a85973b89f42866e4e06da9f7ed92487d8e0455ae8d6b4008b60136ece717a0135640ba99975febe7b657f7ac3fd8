{"ast":null,"code":"import axios from 'axios';\nexport default async function autosuggestHandler(req, res) {\n  const {\n    query: {\n      q\n    },\n    method\n  } = req;\n\n  try {\n    const {\n      data\n    } = await axios.get(`https://api.mercadolibre.com/sites/MLA/autosuggest?showFilters=false&limit=10&api_version=2&q=${q}`, {\n      headers: {\n        'Authorization': 'Bearer TEST-388141063961446-070619-fda06ff4f8814cb101e4ae56b80a59b4-53004417'\n      }\n    });\n\n    switch (method) {\n      case 'GET':\n        res.status(200).json({\n          suggestions: data.suggested_queries\n        });\n        break;\n\n      default:\n        res.setHeader('Allow', ['GET']);\n        res.status(405).end(`Method ${method} Not Allowed`);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}","map":{"version":3,"sources":["C:/Users/circo/OneDrive/Documentos/repos/examen ml/TestML/pages/api/autosuggest.js"],"names":["axios","autosuggestHandler","req","res","query","q","method","data","get","headers","status","json","suggestions","suggested_queries","setHeader","end","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,eAAeC,kBAAf,CAAkCC,GAAlC,EAAuCC,GAAvC,EAA4C;AACzD,QAAM;AACJC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF,KADH;AAEJC,IAAAA;AAFI,MAGFJ,GAHJ;;AAIA,MAAI;AACF,UAAM;AAAEK,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACQ,GAAN,CAAW,iGAAgGH,CAAE,EAA7G,EAAgH;AACrII,MAAAA,OAAO,EAAE;AACP,yBAAiB;AADV;AAD4H,KAAhH,CAAvB;;AAMA,YAAQH,MAAR;AACE,WAAK,KAAL;AACEH,QAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,WAAW,EAAEL,IAAI,CAACM;AAApB,SAArB;AACA;;AAEF;AACEV,QAAAA,GAAG,CAACW,SAAJ,CAAc,OAAd,EAAuB,CAAC,KAAD,CAAvB;AACAX,QAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBK,GAAhB,CAAqB,UAAST,MAAO,cAArC;AAPJ;AASD,GAhBD,CAgBE,OAAOU,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AAEF","sourcesContent":["import axios from 'axios'\r\n\r\nexport default async function autosuggestHandler(req, res) {\r\n  const {\r\n    query: { q },\r\n    method,\r\n  } = req\r\n  try {\r\n    const { data } = await axios.get(`https://api.mercadolibre.com/sites/MLA/autosuggest?showFilters=false&limit=10&api_version=2&q=${q}`, {\r\n      headers: {\r\n        'Authorization': 'Bearer TEST-388141063961446-070619-fda06ff4f8814cb101e4ae56b80a59b4-53004417'\r\n      }\r\n    });\r\n\r\n    switch (method) {\r\n      case 'GET':\r\n        res.status(200).json({ suggestions: data.suggested_queries })\r\n        break\r\n\r\n      default:\r\n        res.setHeader('Allow', ['GET'])\r\n        res.status(405).end(`Method ${method} Not Allowed`)\r\n    }\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}